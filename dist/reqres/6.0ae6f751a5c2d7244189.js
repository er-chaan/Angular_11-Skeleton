(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{dgmN:function(t,e,r){"use strict";r.r(e),r.d(e,"PagesModule",function(){return w});var s=r("ofXK"),i=r("tyNb"),n=r("fXoL"),o=r("5eHb"),a=r("JqCM"),b=r("tk/3"),c=r("AytR"),l=r("lJxs");let d=(()=>{class t{constructor(t){this.httpClient=t,this.api=c.a.api,this.headers=new b.d({token:sessionStorage.getItem("token")})}unknown(){return this.httpClient.get(this.api+"unknown",this.headers).pipe(Object(l.a)(t=>t))}getUsers(){return this.httpClient.get(this.api+"users",this.headers).pipe(Object(l.a)(t=>t))}deleteUser(t){return this.httpClient.delete(this.api+"users/"+t,this.headers).pipe(Object(l.a)(t=>t))}updateUser(t){return this.httpClient.patch(this.api+"users",t,this.headers).pipe(Object(l.a)(t=>t))}createUser(t){return this.httpClient.post(this.api+"users",t,this.headers).pipe(Object(l.a)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(n.Sb(b.b))},t.\u0275prov=n.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),h=(()=>{class t{constructor(t,e,r){this.toastr=t,this.spinner=e,this.usersService=r}ngOnInit(){this.getTotalUsers()}getTotalUsers(){this.spinner.show(),this.usersService.unknown().subscribe(t=>{t&&(this.totalUsers=t.total,this.spinner.hide())},t=>{this.toastr.error(t.error.error),this.spinner.hide()})}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(o.b),n.Jb(a.c),n.Jb(d))},t.\u0275cmp=n.Db({type:t,selectors:[["app-dashboard"]],decls:7,vars:1,consts:[[2,"margin-top","10px"],[1,"row"],[1,"col-md-12"]],template:function(t,e){1&t&&(n.Ob(0,"h4",0),n.nc(1,"Dashboard"),n.Nb(),n.Kb(2,"hr"),n.Ob(3,"div",1),n.Ob(4,"div",2),n.Ob(5,"h6"),n.nc(6),n.Nb(),n.Nb(),n.Nb()),2&t&&(n.yb(6),n.pc("Total Users : ",e.totalUsers,""))},styles:[""]}),t})(),p=(()=>{class t{constructor(t,e,r){this.spinner=t,this.toastr=e,this.router=r}ngOnInit(){}signOut(){this.spinner.show(),this.toastr.success("Good Bye !"),sessionStorage.clear(),this.router.navigate(["/auth"]),this.spinner.hide()}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(a.c),n.Jb(o.b),n.Jb(i.a))},t.\u0275cmp=n.Db({type:t,selectors:[["app-header"]],decls:10,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"nav","navbar-nav","ml-auto"],[1,"nav-item"],[1,"nav-link"],[1,"fas","fa-sign-out-alt",3,"click"]],template:function(t,e){1&t&&(n.Ob(0,"nav",0),n.Ob(1,"a",1),n.nc(2,"ReqRes"),n.Nb(),n.Ob(3,"button",2),n.Kb(4,"span",3),n.Nb(),n.Ob(5,"div",4),n.Ob(6,"ul",5),n.Ob(7,"li",6),n.Ob(8,"a",7),n.Ob(9,"i",8),n.Vb("click",function(){return e.signOut()}),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Nb())},styles:[""]}),t})(),u=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}navigate(t){this.router.navigate(["/pages/"+t+"/"])}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(i.a))},t.\u0275cmp=n.Db({type:t,selectors:[["app-navigation"]],decls:7,vars:0,consts:[[1,"nav","flex-column",2,"background-color","#F8F9FA","height","500px","align-items","center"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-home"],[1,"fas","fa-user"]],template:function(t,e){1&t&&(n.Ob(0,"ul",0),n.Ob(1,"li",1),n.Ob(2,"a",2),n.Vb("click",function(){return e.navigate("dashboard")}),n.Kb(3,"i",3),n.Nb(),n.Nb(),n.Ob(4,"li",1),n.Ob(5,"a",2),n.Vb("click",function(){return e.navigate("users")}),n.Kb(6,"i",4),n.Nb(),n.Nb(),n.Nb())},styles:[""]}),t})(),m=(()=>{class t{constructor(){}ngOnInit(){this.year=(new Date).getFullYear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Db({type:t,selectors:[["app-footer"]],decls:2,vars:1,template:function(t,e){1&t&&(n.Ob(0,"footer"),n.nc(1),n.Nb()),2&t&&(n.yb(1),n.pc(" ReqRes \xa9 ",e.year,"\n"))},styles:["footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;text-align:center}"]}),t})(),g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Db({type:t,selectors:[["app-pages"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-md-1"],[1,"col-md-11"]],template:function(t,e){1&t&&(n.Kb(0,"app-header"),n.Ob(1,"div",0),n.Ob(2,"div",1),n.Kb(3,"app-navigation"),n.Nb(),n.Ob(4,"div",2),n.Kb(5,"router-outlet"),n.Nb(),n.Nb(),n.Kb(6,"app-footer"))},directives:[p,u,i.d,m],encapsulation:2}),t})();var f=r("3Pt+");function O(t,e){if(1&t){const t=n.Pb();n.Ob(0,"tr"),n.Ob(1,"th",28),n.nc(2),n.Nb(),n.Ob(3,"td"),n.nc(4),n.Nb(),n.Ob(5,"td"),n.nc(6),n.Nb(),n.Ob(7,"td"),n.nc(8),n.Nb(),n.Ob(9,"td"),n.nc(10," \xa0 "),n.Ob(11,"i",29),n.Vb("click",function(){n.gc(t);const r=e.$implicit;return n.Xb().editUserModal(r)}),n.Nb(),n.nc(12," \xa0 "),n.Ob(13,"i",30),n.Vb("click",function(){n.gc(t);const r=e.$implicit;return n.Xb().deleteUserConfirm(r.id)}),n.Nb(),n.nc(14," \xa0 "),n.Nb(),n.Nb()}if(2&t){const t=e.$implicit;n.yb(2),n.oc(t.id),n.yb(2),n.oc(t.first_name),n.yb(2),n.oc(t.last_name),n.yb(2),n.oc(t.email)}}function v(t,e){if(1&t&&(n.Ob(0,"span",31),n.nc(1),n.Nb()),2&t){const t=n.Xb();n.yb(1),n.oc(t.nameError)}}function N(t,e){if(1&t&&(n.Ob(0,"span",31),n.nc(1),n.Nb()),2&t){const t=n.Xb();n.yb(1),n.oc(t.jobError)}}const y=[{path:"",component:g,children:[{path:"dashboard",component:h},{path:"users",component:(()=>{class t{constructor(t,e,r,s){this.formBuilder=t,this.toastr=e,this.spinner=r,this.usersService=s,this.deleteUserId=0}ngOnInit(){this.getUsers(),this.nameError=!1,this.jobError=!1,this.userForm=this.formBuilder.group({name:["",[f.i.required]],job:["",[f.i.required]]})}get f(){return this.userForm.controls}createUser(){if(this.spinner.show(),this.nameError=!1,this.jobError=!1,this.userForm.invalid)return this.f.name.errors&&(this.nameError="invalid name"),this.f.job.errors&&(this.jobError="invalid job"),void this.spinner.hide();this.userForm.valid&&("Add User"===this.modalTitle&&this.usersService.createUser(this.userForm.value).subscribe(t=>{t&&(this.toastr.success("Created !"),this.getUsers(),this.spinner.hide(),document.getElementById("closeModal").click())},t=>{this.toastr.error(t.error.error),this.spinner.hide()}),"Edit User"===this.modalTitle&&this.usersService.updateUser(this.userForm.value).subscribe(t=>{t&&(this.toastr.success("Updated !"),this.getUsers(),this.spinner.hide(),document.getElementById("closeModal").click())},t=>{this.toastr.error(t.error.error),this.spinner.hide()}))}getUsers(){this.spinner.show(),this.usersService.getUsers().subscribe(t=>{t&&(this.data=t.data,this.page=t.page,this.per_page=t.per_page,this.total=t.total,this.total_pages=t.total_pages,this.spinner.hide())},t=>{this.toastr.error(t.error.error),this.spinner.hide()})}deleteUserConfirm(t){this.deleteUserId=t,document.getElementById("myConfirmModalTrigger").click()}addUserModal(){this.userForm.reset(),this.modalTitle="Add User",document.getElementById("myModalTrigger").click()}editUserModal(t){this.userForm.patchValue({name:t.first_name,job:t.last_name}),this.modalTitle="Edit User",document.getElementById("myModalTrigger").click()}deleteUser(){this.spinner.show(),this.usersService.deleteUser(this.deleteUserId).subscribe(t=>{t&&(this.toastr.success("Deleted !"),this.getUsers(),this.spinner.hide(),this.deleteUserId=0)},t=>{this.toastr.error(t.error.error),this.spinner.hide()}),this.toastr.success("Deleted !"),this.spinner.hide()}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(f.b),n.Jb(o.b),n.Jb(a.c),n.Jb(d))},t.\u0275cmp=n.Db({type:t,selectors:[["app-users"]],decls:62,vars:6,consts:[[2,"margin-top","10px"],[1,"fas","fa-plus","float-right",2,"margin-right","20px",3,"click"],["id","myModalTrigger","data-toggle","modal","data-target","#myModal",2,"display","none"],[1,"row"],[1,"col-md-12"],[1,"table","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],["id","myModal",1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,""],[1,"form-group"],["formControlName","name","type","text","placeholder","name",1,"form-control"],["class","help-block","style","color: red;",4,"ngIf"],["formControlName","job","type","text","placeholder","job",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block","btn-flat"],[1,"modal-footer"],["id","closeModal","type","button","data-dismiss","modal",1,"btn","btn-danger",2,"display","none"],["id","myConfirmModalTrigger","data-toggle","modal","data-target","#myConfirmModal",2,"display","none"],["id","myConfirmModal",1,"modal"],["id","closeModal","type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","closeModal","type","button","data-dismiss","modal",1,"btn","btn-danger"],["scope","row"],[1,"fas","fa-edit",3,"click"],[1,"fas","fa-trash-alt",3,"click"],[1,"help-block",2,"color","red"]],template:function(t,e){1&t&&(n.Kb(0,"ngx-spinner"),n.Ob(1,"h4",0),n.nc(2,"Users "),n.Ob(3,"i",1),n.Vb("click",function(){return e.addUserModal()}),n.Nb(),n.Kb(4,"i",2),n.Nb(),n.Kb(5,"hr"),n.Ob(6,"div",3),n.Ob(7,"div",4),n.Ob(8,"table",5),n.Ob(9,"thead"),n.Ob(10,"tr"),n.Ob(11,"th",6),n.nc(12,"#"),n.Nb(),n.Ob(13,"th",6),n.nc(14,"FirstName"),n.Nb(),n.Ob(15,"th",6),n.nc(16,"LastName"),n.Nb(),n.Ob(17,"th",6),n.nc(18,"Email"),n.Nb(),n.Ob(19,"th",6),n.nc(20,"Actions"),n.Nb(),n.Nb(),n.Nb(),n.Ob(21,"tbody"),n.mc(22,O,15,4,"tr",7),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Ob(23,"div",8),n.Ob(24,"div",9),n.Ob(25,"div",10),n.Ob(26,"div",11),n.Ob(27,"h4",12),n.nc(28),n.Nb(),n.Ob(29,"button",13),n.nc(30,"\xd7"),n.Nb(),n.Nb(),n.Ob(31,"div",14),n.Ob(32,"form",15),n.Vb("ngSubmit",function(){return e.createUser()}),n.Ob(33,"div",16),n.Ob(34,"div",17),n.Kb(35,"input",18),n.mc(36,v,2,1,"span",19),n.Nb(),n.Ob(37,"div",17),n.Kb(38,"input",20),n.mc(39,N,2,1,"span",19),n.Nb(),n.Ob(40,"button",21),n.nc(41,"Submit"),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Ob(42,"div",22),n.Ob(43,"button",23),n.nc(44,"Close"),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Kb(45,"i",24),n.Ob(46,"div",25),n.Ob(47,"div",9),n.Ob(48,"div",10),n.Ob(49,"div",11),n.Kb(50,"h4",12),n.Ob(51,"button",13),n.nc(52,"\xd7"),n.Nb(),n.Nb(),n.Ob(53,"div",14),n.Ob(54,"h6"),n.nc(55),n.Nb(),n.Nb(),n.Ob(56,"div",22),n.Ob(57,"button",26),n.Vb("click",function(){return e.deleteUser()}),n.nc(58,"Yes"),n.Nb(),n.nc(59," \xa0\xa0 "),n.Ob(60,"button",27),n.nc(61,"No"),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Nb()),2&t&&(n.yb(22),n.cc("ngForOf",e.data),n.yb(6),n.oc(e.modalTitle),n.yb(4),n.cc("formGroup",e.userForm),n.yb(4),n.cc("ngIf",e.nameError),n.yb(3),n.cc("ngIf",e.jobError),n.yb(16),n.pc("Confirm Id ",e.deleteUserId," delete ??"))},directives:[a.a,s.h,f.j,f.g,f.d,f.a,f.f,f.c,s.i],styles:[""]}),t})()},{path:"",redirectTo:"dashboard",pathMatch:"full"}]}];let U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({imports:[[i.c.forChild(y)],i.c]}),t})(),k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({imports:[[s.b]]}),t})(),w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({imports:[[s.b,U,k,a.b,f.e,f.h,o.a.forRoot()]]}),t})()}}]);